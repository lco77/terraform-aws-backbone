{# templates/jinja-ram-associations.tf.jinja2 #}
################################################################################
# This file is generated by "jinja.py"
################################################################################

{% for id,account in accounts.items() %} {% if account.zone != "internal" %} {% for region_code in account.regions %}
################################################################################
# {{ region_code }} | {{ account.name }} | {{ id }}
################################################################################

resource "aws_ram_principal_association" "{{ region_code }}_{{ id }}" {
  provider           = aws.{{ region_code }}_1234567890
  principal          = "{{ id }}"
  resource_share_arn = data.aws_ram_resource_share.{{ region_code }}.arn
}

{% endfor %} {% endif %} {% endfor %}